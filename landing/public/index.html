<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Sakura Fest от ROSTIC'S — встречай азиатское меню! Участвуй в розыгрышах билетов на киновечеринку и поездки в Японию.">
    <meta property="og:title" content="ROSTIC'S — Sakura Fest">
    <meta property="og:description" content="Sakura Fest от ROSTIC'S — встречай азиатское меню! Участвуй в розыгрышах.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sakura-fest-rostics.ru">
    <meta name="theme-color" content="#ED1C29">
    <link rel="icon" href="/favicon.ico">
    <title>ROSTIC'S — Sakura Fest</title>

    <style>
        @font-face { font-family: 'RosticsCeraPro'; src: url('/fonts/RosticsCeraPro-Regular.woff') format('woff'); font-weight: 400; font-display: swap; }
        @font-face { font-family: 'RosticsCeraPro'; src: url('/fonts/RosticsCeraPro-Medium.woff') format('woff'); font-weight: 500; font-display: swap; }
        @font-face { font-family: 'RosticsCeraPro'; src: url('/fonts/RosticsCeraPro-Black.woff') format('woff'); font-weight: 900; font-display: swap; }
        @font-face { font-family: 'RosticsCeraCondensed'; src: url('/fonts/RosticsCeraProCondensed-Regular.woff') format('woff'); font-weight: 400; font-display: swap; }
        @font-face { font-family: 'RosticsCeraCondensed'; src: url('/fonts/RosticsCeraProCondensed-Medium.woff') format('woff'); font-weight: 500; font-display: swap; }
        @font-face { font-family: 'RosticsCeraCondensed'; src: url('/fonts/RosticsCeraProCondensed-Bold.woff') format('woff'); font-weight: 700; font-display: swap; }
        @font-face { font-family: 'RosticsCeraCondensed'; src: url('/fonts/RosticsCeraProCondensed-Black.woff') format('woff'); font-weight: 900; font-display: swap; }

        :root {
            --red: #ED1C29;
            --red-dark: #C41420;
            --white: #FFFFFF;
            --black: #151515;
        }

        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'RosticsCeraPro', Verdana, sans-serif;
            background: var(--black);
            color: var(--white);
            overflow-x: hidden;
            min-height: 100vh;
            min-height: 100dvh;
        }

        /* ===== SAKURA PETALS ===== */
        .petals-layer {
            position: fixed; inset: 0;
            pointer-events: none;
            z-index: 50;
            overflow: hidden;
        }
        .petal {
            position: absolute;
            width: 14px; height: 14px;
            background: radial-gradient(ellipse at 30% 30%, #FFB7D5, #E8819E);
            border-radius: 50% 0 50% 50%;
            opacity: 0;
            will-change: transform, opacity;
            filter: blur(0.5px);
            animation: petalDrift linear infinite;
        }
        .petal.large { width: 20px; height: 20px; filter: none; }
        .petal.small { width: 9px; height: 9px; filter: blur(1px); }

        @keyframes petalDrift {
            0%   { transform: translate(0, -60px) rotate(0deg) scale(1); opacity: 0; }
            8%   { opacity: 0.9; }
            50%  { transform: translate(var(--sway), 50vh) rotate(180deg) scale(0.95); opacity: 0.7; }
            100% { transform: translate(calc(var(--sway) * -0.5), calc(100vh + 60px)) rotate(360deg) scale(0.8); opacity: 0; }
        }

        /* ===== PHOTO BACKGROUND ===== */
        .bg-photo {
            position: fixed; inset: 0;
            z-index: 0;
            background: url('/bg_sakura.jpg') center top / cover no-repeat;
        }
        .bg-photo::after {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(
                180deg,
                rgba(21,21,21,0.15) 0%,
                rgba(21,21,21,0.25) 30%,
                rgba(21,21,21,0.55) 60%,
                rgba(21,21,21,0.85) 100%
            );
        }

        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .bg-photo { background-image: url('/bg_sakura_2x.jpg'); }
        }

        /* ===== LAYOUT ===== */
        .page {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .screen { display: none; width: 100%; }
        .screen.active { display: block; }

        .card-wrapper {
            width: 100%;
            max-width: 520px;
            margin: 0 auto;
            padding: 24px;
        }

        .glass-card {
            background: rgba(255,255,255,0.22);
            backdrop-filter: blur(50px) saturate(1.4);
            -webkit-backdrop-filter: blur(50px) saturate(1.4);
            border: 1px solid rgba(255,255,255,0.35);
            border-radius: 32px;
            padding: 40px 28px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 24px 80px rgba(0,0,0,0.25);
        }
        .glass-card::before {
            content: '';
            position: absolute;
            top: -1px; left: 20%; right: 20%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--red), transparent);
            border-radius: 1px;
        }

        /* ===== COMMON ===== */
        .inner { text-align: center; }

        .brand-mark {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .brand-mark .brand-logo {
            height: 32px;
            width: auto;
            filter: drop-shadow(0 0 12px rgba(237,28,41,0.5));
        }

        .hero-title {
            display: block;
            margin: 0 auto 20px;
            max-width: 90%;
            height: auto;
        }

        .section-label {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--black);
            margin-bottom: 16px;
        }

        /* ===== COUNTDOWN ===== */
        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 24px;
        }
        .cd-cell {
            background: rgba(160,30,45,0.45);
            border: 1px solid rgba(200,50,60,0.35);
            border-radius: 16px;
            padding: 14px 6px 12px;
            text-align: center;
        }
        .cd-num {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 900;
            font-size: 38px;
            color: var(--white);
            display: block;
            line-height: 1;
            margin-bottom: 4px;
            transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
        }
        .cd-num.tick { transform: scale(1.15); }
        .cd-label {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-size: 10px;
            font-weight: 700;
            color: rgba(255,255,255,0.6);
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .countdown-label {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-size: 18px;
            font-weight: 900;
            color: var(--red);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 24px;
        }

        /* ===== CAT ===== */
        .cat-mascot {
            width: 220px;
            height: auto;
            display: block;
            margin: 0 auto 24px;
            filter: drop-shadow(0 8px 24px rgba(0,0,0,0.35));
            animation: catFloat 4s ease-in-out infinite;
        }
        @keyframes catFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        /* ===== DIVIDER ===== */
        .divider {
            width: 60px;
            height: 2px;
            background: var(--white);
            margin: 0 auto 24px;
            border-radius: 1px;
        }

        /* ===== FORTUNE CARD ===== */
        .fortune-card {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            padding: 0;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        .fortune-card-header {
            background: rgba(255,255,255,0.15);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .fortune-card-header-text {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--white);
        }
        .fortune-card-body {
            padding: 20px;
            position: relative;
        }
        .fortune-card-body::before {
            content: '\201C';
            position: absolute;
            top: 2px; left: 12px;
            font-size: 60px;
            font-family: Georgia, serif;
            color: rgba(255,255,255,0.2);
            line-height: 1;
        }
        .fortune-text {
            font-family: 'RosticsCeraPro', Verdana, sans-serif;
            font-size: 16px;
            font-weight: 500;
            color: var(--white);
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .fortune-anim { animation: fortuneReveal 0.5s cubic-bezier(0.34,1.56,0.64,1); }
        @keyframes fortuneReveal {
            0% { opacity: 0; transform: translateY(16px) scale(0.96); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* ===== BUTTONS ===== */
        .btn-fortune {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 12px 28px;
            border: 2px solid var(--red);
            border-radius: 100px;
            background: var(--red);
            color: var(--white);
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-fortune:hover {
            background: var(--red-dark);
            border-color: var(--red-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(237,28,41,0.3);
        }
        .btn-fortune:active { transform: scale(0.97); }

        .btn-skip {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 10px 28px;
            margin-top: 20px;
            border: 1px solid rgba(255,255,255,0.35);
            border-radius: 100px;
            background: transparent;
            color: var(--white);
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-skip:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.5);
        }

        /* ===== PRIZE CARDS (main screen) ===== */
        .prize-stack {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .prize-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 18px;
            background: rgba(160,30,45,0.5);
            border: 1px solid rgba(200,50,60,0.4);
            border-radius: 18px;
            text-decoration: none;
            color: var(--white);
            transition: all 0.35s cubic-bezier(0.34,1.56,0.64,1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .prize-card:hover {
            transform: translateY(-3px) scale(1.02);
            background: rgba(160,30,45,0.6);
            border-color: rgba(200,50,60,0.5);
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
        }
        .prize-card:active { transform: scale(0.98); }

        .prize-icon {
            width: 50px; height: 50px;
            border-radius: 14px;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
        }
        .prize-card.tg .prize-icon { background: #0088cc; }
        .prize-card.vk .prize-icon { background: #0077ff; }

        .prize-info { flex: 1; text-align: left; }
        .prize-name {
            font-family: 'RosticsCeraCondensed', Verdana, sans-serif;
            font-weight: 700;
            font-size: 15px;
            text-transform: uppercase;
            color: var(--white);
            margin-bottom: 2px;
        }
        .prize-sub {
            font-family: 'RosticsCeraPro', Verdana, sans-serif;
            font-size: 13px;
            color: rgba(255,255,255,0.7);
            font-weight: 500;
        }

        .prize-arrow {
            width: 34px; height: 34px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
            font-size: 18px;
            color: var(--white);
            transition: all 0.3s;
        }
        .prize-card:hover .prize-arrow {
            background: rgba(255,255,255,0.35);
        }

        /* ===== COPYRIGHT ===== */
        .copyright-note {
            margin-top: 24px;
            text-align: center;
            font-family: 'RosticsCeraPro', Verdana, sans-serif;
            font-size: 11px;
            color: rgba(0,0,0,0.35);
        }

        /* ===== STAGGER ANIMATION ===== */
        .stagger { opacity: 0; transform: translateY(20px); animation: staggerIn 0.5s ease forwards; }
        .stagger:nth-child(1) { animation-delay: 0.1s; }
        .stagger:nth-child(2) { animation-delay: 0.18s; }
        .stagger:nth-child(3) { animation-delay: 0.26s; }
        .stagger:nth-child(4) { animation-delay: 0.34s; }
        .stagger:nth-child(5) { animation-delay: 0.42s; }
        .stagger:nth-child(6) { animation-delay: 0.50s; }
        .stagger:nth-child(7) { animation-delay: 0.58s; }
        .stagger:nth-child(8) { animation-delay: 0.66s; }
        .stagger:nth-child(9) { animation-delay: 0.74s; }
        .stagger:nth-child(10) { animation-delay: 0.82s; }
        @keyframes staggerIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== RESPONSIVE ===== */
        @media (min-width: 768px) {
            .card-wrapper { max-width: 560px; padding: 40px; }
            .glass-card { padding: 48px 40px; border-radius: 40px; }
            .countdown-grid { gap: 12px; }
            .cd-num { font-size: 44px; }
            .cd-cell { padding: 16px 8px 14px; border-radius: 18px; }
            .cat-mascot { width: 260px; }
            .prize-card { padding: 22px; gap: 18px; }
            .prize-icon { width: 56px; height: 56px; }
            .prize-name { font-size: 16px; }
        }

        @media (min-width: 1024px) {
            .card-wrapper { max-width: 640px; }
        }

        @media (max-width: 374px) {
            .glass-card { padding: 28px 16px; }
            .cd-num { font-size: 28px; }
            .cd-cell { padding: 10px 4px 8px; }
            .cat-mascot { width: 180px; }
            .hero-title { font-size: 32px; }
            .prize-card { padding: 14px; gap: 12px; }
            .prize-icon { width: 42px; height: 42px; }
        }
    </style>
</head>
<body>

    <!-- Photo background -->
    <div class="bg-photo"></div>

    <!-- Falling petals -->
    <div class="petals-layer" id="petalsLayer"></div>

    <!-- Main content -->
    <div class="page">
        <!-- TEASER SCREEN -->
        <div class="screen active" id="teaserScreen">
            <div class="card-wrapper">
                <div class="glass-card">
                    <div class="inner">
                        <div class="brand-mark stagger"><img src="/logoRostics.png" alt="Rostic's" class="brand-logo"></div>
                        <img class="hero-title stagger" src="/sakura_fest_title.png" alt="Сакура Фест">

                        <!-- Countdown (compact) -->
                        <div class="countdown-grid stagger" id="countdown">
                            <div class="cd-cell">
                                <span class="cd-num" id="days">00</span>
                                <span class="cd-label">Дней</span>
                            </div>
                            <div class="cd-cell">
                                <span class="cd-num" id="hours">00</span>
                                <span class="cd-label">Часов</span>
                            </div>
                            <div class="cd-cell">
                                <span class="cd-num" id="minutes">00</span>
                                <span class="cd-label">Минут</span>
                            </div>
                            <div class="cd-cell">
                                <span class="cd-num" id="seconds">00</span>
                                <span class="cd-label">Секунд</span>
                            </div>
                        </div>
                        <div class="countdown-label stagger">До запуска азиатского меню</div>

                        <!-- Cat -->
                        <img class="cat-mascot stagger" src="/cat.png" alt="Кот удачи" loading="eager">

                        <!-- Fortune -->
                        <div class="divider stagger"></div>
                        <div class="fortune-card stagger" id="teaserFortuneCard">
                            <div class="fortune-card-header">
                                <span class="fortune-card-header-text">Предсказание</span>
                            </div>
                            <div class="fortune-card-body">
                                <p class="fortune-text" id="teaserFortuneText"></p>
                            </div>
                        </div>
                        <button class="btn-fortune stagger" id="teaserNewFortuneBtn">Ещё предсказание</button>

                        <button class="btn-skip stagger" id="skipTimerBtn">Пропустить</button>
                        <p class="copyright-note stagger">&copy; Юнирест, 2026</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN SCREEN -->
        <div class="screen" id="mainScreen">
            <div class="card-wrapper">
                <div class="glass-card">
                    <div class="inner">
                        <div class="brand-mark stagger"><img src="/logoRostics.png" alt="Rostic's" class="brand-logo"></div>
                        <img class="hero-title stagger" src="/sakura_fest_title.png" alt="Сакура Фест">
                        <p class="section-label stagger" style="font-size:18px; margin-bottom:8px; color:var(--red);">Участвуй в розыгрышах</p>
                        <p class="section-label stagger" style="font-size:14px; margin-bottom:28px; font-weight:700;">Переходи по ссылкам, участвуй в конкурсах и&nbsp;выигрывай призы</p>

                        <div class="prize-stack stagger">
                            <a href="https://t.me/ROSTICSru" target="_blank" rel="noopener" class="prize-card tg" id="tgCard">
                                <div class="prize-icon">
                                    <svg width="26" height="26" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.28-.02-.12.03-2.02 1.28-5.69 3.77-.54.37-1.03.55-1.47.54-.48-.01-1.41-.27-2.1-.5-.85-.28-1.52-.43-1.46-.91.03-.25.38-.51 1.05-.78 4.12-1.79 6.87-2.97 8.26-3.54 3.93-1.62 4.75-1.9 5.28-1.91.12 0 .37.03.54.17.14.12.18.28.2.47-.01.06.01.24 0 .37z"/></svg>
                                </div>
                                <div class="prize-info">
                                    <div class="prize-name">Билет на киновечеринку</div>
                                    <div class="prize-sub">Telegram-канал Rostic's</div>
                                </div>
                                <div class="prize-arrow">&#x2192;</div>
                            </a>

                            <a href="https://vk.com/rostics_official" target="_blank" rel="noopener" class="prize-card vk" id="vkCard">
                                <div class="prize-icon">
                                    <svg width="26" height="26" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm5.01 14.04c-.18.24-.53.46-1.1.46H14.3s-.42.01-.64-.25c-.24-.28-.93-1.08-.93-1.08-.36-.38-.74-.27-.74-.27s-.17.08-.21.52c0 0-.03.55-.62.55 0 0-1.36.09-2.87-1.15 0 0-1.6-1.42-3.01-4.25 0 0-.26-.55.02-.57 0 0 .7-.03 1.2.45 0 0 .37.41.67 1.05.61 1.3 1.28 1.83 1.28 1.83s.34.26.48-.1c0 0 .23-.78.25-1.78 0 0 .04-1.42-.44-1.63 0 0-.31-.15-.9-.17 0 0-.7-.01-.7-.01s.23-.35.58-.47c0 0 .67-.2 1.84-.16 0 0 .85.04 1.34.17 0 0 .81.22.66 1.62 0 0-.16 1.04-.22 1.58 0 0-.09.67.33.91 0 0 .27.16 1.07-.72 0 0 .68-.82 1.1-1.93 0 0 .18-.44.33-.54.15-.1.5-.07.5-.07l1.74-.02s1.04-.12.56.74c0 0-.12.24-.58.92-.84 1.22-1.28 1.6-1.28 1.6s-.22.24-.04.52c.15.23.73.68.73.68s.95.77 1.17 1.4c0 0 .25.68-.35.92z"/></svg>
                                </div>
                                <div class="prize-info">
                                    <div class="prize-name">Поездка в Японию</div>
                                    <div class="prize-sub">Группа ВКонтакте Rostic's</div>
                                </div>
                                <div class="prize-arrow">&#x2192;</div>
                            </a>
                        </div>

                        <!-- Cat + Fortune -->
                        <img class="cat-mascot stagger" src="/cat.png" alt="Кот удачи" loading="lazy">
                        <div class="divider stagger"></div>
                        <div class="fortune-card stagger" id="fortuneCard">
                            <div class="fortune-card-header">
                                <span class="fortune-card-header-text">Предсказание</span>
                            </div>
                            <div class="fortune-card-body">
                                <p class="fortune-text" id="fortuneText"></p>
                            </div>
                        </div>
                        <button class="btn-fortune stagger" id="newFortuneBtn">Ещё предсказание</button>

                        <p class="copyright-note stagger">&copy; Юнирест, 2026</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        const LAUNCH_DATE = new Date('2026-03-04T00:00:00+03:00');

        const FORTUNES = [
            "Сегодня звёзды говорят: тебя ждёт вкусный сюрприз!",
            "Удача уже в пути\u00A0\u2014 как свежий заказ из Ростикс!",
            "Твоя смелость будет вознаграждена! Возможно, даже острым соусом.",
            "Впереди приятная встреча. И\u00A0много хрустящих крылышек!",
            "Кот удачи шепчет: сегодня особенный день для тебя.",
            "Твои желания сбудутся быстрее, чем готовится терияки!",
            "Везение на твоей стороне. Самое время рискнуть!",
            "Вселенная готовит для тебя подарок. Вкусный подарок.",
            "Сакура цветёт\u00A0\u2014 а\u00A0значит, пора загадывать желания!",
            "Ты притягиваешь удачу, как магнит. Кот подтверждает!"
        ];

        // ===== Petals =====
        (function createPetals() {
            const layer = document.getElementById('petalsLayer');
            const count = window.innerWidth > 768 ? 25 : 14;
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div');
                const r = Math.random();
                p.className = 'petal' + (r < 0.2 ? ' large' : r > 0.75 ? ' small' : '');
                p.style.left = (Math.random() * 110 - 5) + '%';
                p.style.setProperty('--sway', (Math.random() * 120 - 60) + 'px');
                p.style.animationDuration = (Math.random() * 12 + 10) + 's';
                p.style.animationDelay = (Math.random() * 15) + 's';
                layer.appendChild(p);
            }
        })();

        // ===== Countdown =====
        let prevSec = -1;
        function updateCountdown() {
            const diff = LAUNCH_DATE - Date.now();
            if (diff <= 0) return false;
            const d = Math.floor(diff / 864e5);
            const h = Math.floor((diff % 864e5) / 36e5);
            const m = Math.floor((diff % 36e5) / 6e4);
            const s = Math.floor((diff % 6e4) / 1e3);

            const pairs = [['days',d],['hours',h],['minutes',m],['seconds',s]];
            pairs.forEach(([id, v]) => {
                const el = document.getElementById(id);
                if (el) el.textContent = String(v).padStart(2,'0');
            });

            if (s !== prevSec) {
                prevSec = s;
                const secEl = document.getElementById('seconds');
                if (secEl) {
                    secEl.classList.add('tick');
                    setTimeout(() => secEl.classList.remove('tick'), 200);
                }
            }
            return true;
        }

        // ===== Screen management =====
        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            const target = document.getElementById(id);
            target.classList.add('active');
            target.querySelectorAll('.stagger').forEach((el, i) => {
                el.style.animation = 'none';
                el.offsetHeight;
                el.style.animation = '';
                el.style.animationDelay = (0.1 + i * 0.08) + 's';
            });
        }

        function checkMode() {
            if (Date.now() >= LAUNCH_DATE.getTime()) {
                switchScreen('mainScreen');
                return 'main';
            }
            switchScreen('teaserScreen');
            updateCountdown();
            setInterval(() => { if (!updateCountdown()) location.reload(); }, 1000);
            return 'teaser';
        }

        // ===== Fortune =====
        let lastFortuneIdx = -1;
        function showFortune(cardId, textId) {
            cardId = cardId || 'fortuneCard';
            textId = textId || 'fortuneText';
            let idx;
            do { idx = Math.floor(Math.random() * FORTUNES.length); } while (idx === lastFortuneIdx && FORTUNES.length > 1);
            lastFortuneIdx = idx;
            const card = document.getElementById(cardId);
            document.getElementById(textId).textContent = FORTUNES[idx];
            card.classList.remove('fortune-anim');
            void card.offsetHeight;
            card.classList.add('fortune-anim');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const mode = checkMode();
            if (mode === 'main') {
                showFortune();
            }
            if (mode === 'teaser') {
                showFortune('teaserFortuneCard', 'teaserFortuneText');
            }
            document.getElementById('newFortuneBtn').addEventListener('click', () => showFortune());
            document.getElementById('teaserNewFortuneBtn').addEventListener('click', () => showFortune('teaserFortuneCard', 'teaserFortuneText'));
            const skipBtn = document.getElementById('skipTimerBtn');
            if (skipBtn) {
                skipBtn.addEventListener('click', () => {
                    switchScreen('mainScreen');
                    showFortune();
                });
            }
        });
    </script>
</body>
</html>
